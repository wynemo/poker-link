# 德州扑克线下规则参考

## 游戏基础

### 参与人数
- 最少 2 人，最多 10 人
- 推荐 6-9 人为最佳游戏体验

### 牌组
- 使用标准 52 张扑克牌（不含大小王）
- 花色：♠️黑桃 ♥️红心 ♦️方块 ♣️梅花
- 点数：A, K, Q, J, 10, 9, 8, 7, 6, 5, 4, 3, 2（A 可作最大或最小）

## 游戏流程

### 1. 发牌前准备
- 确定庄家位置（Dealer Button）
- 小盲注（Small Blind）：庄家左侧第一位玩家
- 大盲注（Big Blind）：庄家左侧第二位玩家
- 大盲注通常是小盲注的 2 倍

### 2. 发牌阶段
- 每位玩家发 2 张底牌（Hole Cards），面朝下
- 玩家只能查看自己的底牌

### 3. 第一轮下注（Pre-flop）
- 从大盲注左侧玩家开始
- 可选择：跟注（Call）、加注（Raise）、弃牌（Fold）
- 第一轮必须至少跟上大盲注

### 4. 翻牌圈（Flop）
- **烧牌**：先将牌堆顶部第一张牌面朝下弃掉（防止作弊）
- 发出 3 张公共牌，面朝上
- 从庄家（Button）左侧第一位仍在牌局中的玩家开始行动
- 可选择：过牌（Check）、下注（Bet）、跟注（Call）、加注（Raise）、弃牌（Fold）

### 5. 转牌圈（Turn）
- **烧牌**：再次烧掉牌堆顶部一张牌
- 发出第 4 张公共牌
- 下注规则同翻牌圈

### 6. 河牌圈（River）
- **烧牌**：最后一次烧掉牌堆顶部一张牌
- 发出第 5 张公共牌
- 最后一轮下注

### 7. 摊牌（Showdown）
- 剩余玩家亮出底牌
- 比较牌型大小，最大者获胜
- 特殊情况：如果最终的最佳牌型就是桌面上的 5 张公共牌，那么所有未弃牌的玩家将平分底池

## 牌型大小（从大到小）

1. **皇家同花顺（Royal Flush）**
   - 同花色的 A-K-Q-J-10

2. **同花顺（Straight Flush）**
   - 同花色的连续 5 张牌

3. **四条（Four of a Kind）**
   - 4 张相同点数的牌

4. **葫芦（Full House）**
   - 3 张相同点数 + 1 对

5. **同花（Flush）**
   - 5 张同花色的牌（不连续）

6. **顺子（Straight）**
   - 5 张连续点数的牌（不同花色）

7. **三条（Three of a Kind）**
   - 3 张相同点数的牌

8. **两对（Two Pair）**
   - 两个不同的对子

9. **一对（One Pair）**
   - 2 张相同点数的牌

10. **高牌（High Card）**
    - 没有以上牌型时，比较最大单牌

## 下注规则

### 下注选项
- **过牌（Check）**：不下注，将行动权传递给下一位玩家
- **下注（Bet）**：主动投入筹码
- **跟注（Call）**：跟上前面玩家的下注金额
- **加注（Raise）**：在跟注基础上再增加下注
- **弃牌（Fold）**：放弃这一局，失去已投入的筹码

### 最小加注规则
- **最小加注额**：加注额必须至少等于上一个玩家的下注或加注额度
- 例如：玩家 A 下注 100，玩家 B 加注至少要再加 100（总共下注 200）
- 这个规则适用于无限注和底池限注游戏

### 下注限制
- **无限注（No Limit）**：可以下注桌面上的全部筹码
- **限注（Limit）**：每轮下注和加注都有固定限额
- **底池限注（Pot Limit）**：最大下注金额不能超过当前底池

## 特殊规则

### All-in（全押）
- 玩家可以投入所有剩余筹码
- 如果筹码不足跟注，仍可参与边池竞争
- **不完整加注（Incomplete Raise）**：当一个玩家 All-in 的金额不足以构成一个完整加注时（通常少于前一个加注额的一半），将不能重新开启下一轮加注。后续玩家只能选择跟注或弃牌，不能再加注

### 边池（Side Pot）
- 当有玩家 All-in 且筹码不等时产生
- All-in 玩家只能竞争主池
- 其他玩家继续竞争边池

### 平分底池
- 牌型完全相同时平分奖池
- 奇数筹码归位置靠前的玩家

## 游戏礼仪

1. **行动顺序**：按顺时针方向进行
2. **明确表态**：清楚表达下注意图
3. **保护底牌**：始终保护自己的底牌
4. **不得议论**：游戏中不能讨论牌面或策略
5. **及时行动**：合理时间内做出决定

## 常见术语

- **Position（位置）**：相对于庄家的座位位置
- **Bluff（诈唬）**：用弱牌模拟强牌进行下注
- **Pot Odds（底池赔率）**：底池大小与跟注成本的比例
- **Outs（出牌）**：能够改善牌力的剩余牌张数量
- **Kicker（踢脚牌）**：决定平局时的关键单牌

## 开发注意事项

### 游戏状态管理
- 游戏阶段（Pre-flop, Flop, Turn, River）
- 玩家状态（活跃、弃牌、All-in）
- 底池管理（主池、边池）
- 下注轮次控制

### 牌型判断算法
- 需要实现 7 选 5 的最佳牌型算法
- 考虑平局判断和踢脚牌比较
- 支持多人同时获胜的情况

### 实时同步
- 游戏状态实时同步
- 下注动作广播
- 断线重连处理

### 安全考虑
- 服务端权威性验证
- 防止作弊和外挂
- 随机数生成的公平性